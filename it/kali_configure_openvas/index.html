<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    

    <title>Kali2024.1安装配置openvas(gvm)漏洞扫描软件 | 四十荀的博客</title>
    <meta property="og:title" content="Kali2024.1安装配置openvas(gvm)漏洞扫描软件 - 四十荀的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2024-04-26T12:34:38&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2024-04-26T12:34:38&#43;08:00'>
        
    <meta name="Keywords" content="[kali, linux, openvas(gvm), 漏扫, 漏洞扫描, 开源漏扫]">
    <meta name="description" content="kali linux 2024.1安装openvas(gvm)漏洞扫描系统">
        
    <meta name="author" content="四十荀">
    <meta property="og:url" content="https://xy-ylr.github.io/it/kali_configure_openvas/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
        <link href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">
    
    
    
    
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://xy-ylr.github.io">
                        四十荀的博客
                    </a>
                
                <p class="description">运维工程师, 未来新农人, 间歇性运动</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://xy-ylr.github.io">首页</a>
                    
                    <a  href="https://xy-ylr.github.io/it/" title="计算机">计算机</a>
                    
                    <a  href="https://xy-ylr.github.io/licai/" title="理财">理财</a>
                    
                    <a  href="https://xy-ylr.github.io/nongye/" title="农业">农业</a>
                    
                    <a  href="https://xy-ylr.github.io/yundong/" title="健身">健身</a>
                    
                    <a  href="https://xy-ylr.github.io/archives/" title="归档">归档</a>
                    
                    <a  href="https://xy-ylr.github.io/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -230px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
         
         
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
         
         
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#系统环境">系统环境</a></li>
    <li><a href="#安装kali">安装kali</a></li>
    <li><a href="#配置gvm相关">配置gvm相关</a>
      <ul>
        <li><a href="#gvm-setup">gvm-setup</a></li>
        <li><a href="#gvm-check-setup">gvm-check-setup</a></li>
        <li><a href="#gvm-start">gvm-start</a></li>
        <li><a href="#局域网访问">局域网访问</a></li>
        <li><a href="#greenbone-feed-sync">greenbone-feed-sync</a></li>
        <li><a href="#内网gvm同步特征库">内网gvm同步特征库</a></li>
        <li><a href="#汉化-修改密码">汉化-修改密码</a></li>
        <li><a href="#gvm-stop">gvm-stop</a></li>
      </ul>
    </li>
    <li><a href="#参考">参考</a></li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if (leftPos < 220) {
                postToc.css({ "width": leftPos - 10, "margin-left": (0 - leftPos) })
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }

        if ($("#TableOfContents").children().length < 1) {
            $(".post-toc").remove();
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">Kali2024.1安装配置openvas(gvm)漏洞扫描软件</h1>
        </header>
        <date class="post-meta meta-date">
            2024年4月26日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category"><a href='/categories/linux'>linux</a></span>
            
        </div>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-meta">
            <span>|</span>
            <span> 共约4812字 </span>
            <span> 预计阅读时间10分钟</span>
        </div>
        
        
        <div class="clear" style="display: none">
            <div class="toc-article">
                <div class="toc-title">文章目录</div>
            </div>
        </div>
        
        
        

    
    
    

    
    




        <div class="post-content">
            <p>openvas是开源的全功能的安全漏洞扫描系统，提供全面的网络漏洞检测能力，包含大量可更新的漏洞检测插件，支持多种协议和服务的扫描，并提供了大量的漏洞测试。</p>
<p>目前新版openvas改叫gvm了，即Greenbone Vulnerability Management。</p>
<h2 id="系统环境">系统环境</h2>
<p>操作系统：kali-linux-2024.1</p>
<p>GVM版本：GVM-23.11.0</p>
<h2 id="安装kali">安装kali</h2>
<p><a href="https://mirrors.ustc.edu.cn/kali-images/kali-2024.1/">下载kali linux的ISO镜像</a>，可以选择installer镜像，也可以直接选择对应的虚拟机镜像，然后本地安装。</p>
<p>安装完成后，<a href="https://mirrors.ustc.edu.cn/help/kali.html">修改kali软件仓库国内源</a>。</p>
<p>然后安装gvm：<code>sudo apt install gvm</code>。</p>
<h2 id="配置gvm相关">配置gvm相关</h2>
<h3 id="gvm-setup">gvm-setup</h3>
<p>运行<code>sudo gvm-setup -h</code>进行初始化，同时会从官网下载漏洞补丁库等资源（总计大概下载2.3G左右，如下方截图右上角所示），由于是海外站点，网速随缘，本人连续下载了2天，一直只有几十K的速率，直到第三天早上再次尝试的时候，网速突然暴涨到了200多K，才总算下载完成了。</p>
<p>该命令可以多次运行，在第一次运行的时候，底部有一个admin帐号的随机密码，这个是<strong><u>登录gvm web控制台的帐号密码，注意保存</u></strong>一下，后续再运行的时候，不会再出现这个密码。</p>
<p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-141211-bcabbfd142016c7b30f40f25f2af2d84-6ebcc6.png">
            <img class="mx-auto" alt="gvm-setup" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-141211-bcabbfd142016c7b30f40f25f2af2d84-6ebcc6.png" />
        </a>
    </p>
<h3 id="gvm-check-setup">gvm-check-setup</h3>
<p>运行<code>sudo gvm-check-setup -h</code>检查配置，以确保所有配置正确无误，一切正常的话，大概如下所示：</p>
<p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-142556-2db0ea6ba177cae57287a5d626139ff7-96f5bb.png">
            <img class="mx-auto" alt="gvm-check-setup" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-142556-2db0ea6ba177cae57287a5d626139ff7-96f5bb.png" />
        </a>
    </p>
<p>但是本人在配置的时候遇到如下几个问题：</p>
<ol>
<li><code>ospd-openvas.service</code>无法启动。</li>
</ol>
<p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-143244-579e38eba582b00b31b5f8a1ec3cb418-e644c2.png">
            <img class="mx-auto" alt="gvm-check-setup-error" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-143244-579e38eba582b00b31b5f8a1ec3cb418-e644c2.png" />
        </a>
    </p>
<p>通过<code>sudo journalctl -xeu ospd-openvas.service</code>查看错误提示，如下图所示，可以发现一开始是<code>mqtt.py</code>文件中的<code>Client.__init__()</code>函数在初始化的时候，缺了一个必要参数<code>callback_api_version</code>。</p>
<p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-154059-5457237f840eafa32b2ea7f0dadd3d0e-79e003.png">
            <img class="mx-auto" alt="journalctl -xeu ospd-openvas.service" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-154059-5457237f840eafa32b2ea7f0dadd3d0e-79e003.png" />
        </a>
    </p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># sudo vi /usr/lib/python3/dist-packages/ospd_openvas/messaging/mqtt.py</span>
<span style="color:#75715e"># 大概39行</span>
super<span style="color:#f92672">()</span>.__init__<span style="color:#f92672">(</span><span style="color:#111">client_id</span><span style="color:#f92672">=</span>client_id, <span style="color:#111">protocol</span><span style="color:#f92672">=</span>mqtt.MQTTv5<span style="color:#f92672">)</span>
<span style="color:#75715e"># 修改为如下</span>
super<span style="color:#f92672">()</span>.__init__<span style="color:#f92672">(</span><span style="color:#111">callback_api_version</span><span style="color:#f92672">=</span>mqtt.CallbackAPIVersion.VERSION2, <span style="color:#111">client_id</span><span style="color:#f92672">=</span>client_id, <span style="color:#111">protocol</span><span style="color:#f92672">=</span>mqtt.MQTTv5<span style="color:#f92672">)</span>
</code></pre></td></tr></table>
</div>
</div><p>凭着自身的半碗水知识，阅读相关文件的源码（见文末参考部分），结合<a href="https://tongyi.aliyun.com/qianwen/share?shareId=a08d17f4-c279-4d37-87a8-ab89cb677ef5">通义千问的解答</a>，反正<code>callback_api_version</code>参数是必须的，可以对<code>mqtt.py</code>文件中的部分源码做如上修改。</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># sudo vi /usr/lib/python3/dist-packages/notus/scanner/messaging/mqtt.py</span>
<span style="color:#75715e"># 大概35行</span>
super<span style="color:#f92672">()</span>.__init__<span style="color:#f92672">(</span><span style="color:#111">client_id</span><span style="color:#f92672">=</span>client_id, <span style="color:#111">protocol</span><span style="color:#f92672">=</span>mqtt.MQTTv5<span style="color:#f92672">)</span>
<span style="color:#75715e"># 修改为如下</span>
super<span style="color:#f92672">()</span>.__init__<span style="color:#f92672">(</span><span style="color:#111">callback_api_version</span><span style="color:#f92672">=</span>mqtt.CallbackAPIVersion.VERSION2, <span style="color:#111">client_id</span><span style="color:#f92672">=</span>client_id, <span style="color:#111">protocol</span><span style="color:#f92672">=</span>mqtt.MQTTv5<span style="color:#f92672">)</span>
</code></pre></td></tr></table>
</div>
</div><p>同时跟<code>ospd-openvas.service</code>一样，<code>notus-scanner.service</code>也有这个问题，需要指定<code>callback_api_version</code>参数。</p>
<p>不过这个问题不会被<code>gvm-check-setup</code>给发现，要在使用<code>gvm-start</code>启动相关服务或者<code>gvm-stop</code>停止相关服务的时候，才会出现报错提示。</p>
<ol start="2">
<li><code>redis-server.sock</code>路径不对</li>
</ol>
<p>运行<code>gvm-check-setup</code>的时候，redis数据库相关的会提示<code>Could not connect to Redis at /var/run/redis-openvas/redis-server.sock: No such file or directory</code>，这跟<code>/etc/openvas/openvas.conf</code>配置文件有关，修改一下就好了。</p>
<ol start="3">
<li><code>gvmd.pid</code>文件缺失</li>
</ol>
<p><code>gvmd.service</code>服务能启动，但是<code>gvmd.pid</code>文件缺失，虽然有点异常，但是好像不影响使用，暂时未做处理。</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">┌──<span style="color:#f92672">(</span>xy㉿kali<span style="color:#f92672">)</span>-<span style="color:#f92672">[</span>/usr/share/gvm/gsad<span style="color:#f92672">]</span>
└─$ sudo systemctl status gvmd.service
● gvmd.service - Greenbone Vulnerability Manager daemon <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>
     Loaded: loaded <span style="color:#f92672">(</span>/usr/lib/systemd/system/gvmd.service<span style="color:#111">;</span> enabled<span style="color:#111">;</span> preset: disabled<span style="color:#f92672">)</span>
     Active: active <span style="color:#f92672">(</span>running<span style="color:#f92672">)</span> since Sat 2024-04-27 16:06:17 CST<span style="color:#111">;</span> 1h 25min ago
       Docs: man:gvmd<span style="color:#f92672">(</span>8<span style="color:#f92672">)</span>
   Main PID: <span style="color:#ae81ff">31324</span> <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>
      Tasks: <span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>limit: 9395<span style="color:#f92672">)</span>
     Memory: 192.8M <span style="color:#f92672">(</span>peak: 306.8M<span style="color:#f92672">)</span>
        CPU: 31.802s
     CGroup: /system.slice/gvmd.service
             └─31324 <span style="color:#d88200">&#34;gvmd: Waiting &#34;</span> --osp-vt-update<span style="color:#f92672">=</span>/run/ospd/ospd.sock --listen-group<span style="color:#f92672">=</span>_gvm

4月 <span style="color:#ae81ff">27</span> 16:06:08 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Starting gvmd.service - Greenbone Vulnerability Manager daemon <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>...
4月 <span style="color:#ae81ff">27</span> 16:06:08 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: gvmd.service: Can<span style="color:#960050;background-color:#1e0010">&#39;</span>t open PID file /run/gvmd/gvmd.pid <span style="color:#f92672">(</span>yet?<span style="color:#f92672">)</span> after start: No such file or directory
4月 <span style="color:#ae81ff">27</span> 16:06:17 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Started gvmd.service - Greenbone Vulnerability Manager daemon <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>.

</code></pre></td></tr></table>
</div>
</div><h3 id="gvm-start">gvm-start</h3>
<p>运行<code>sudo gvm-start -h</code>来启动gvm相关组件，如果一切正常，头部内容大概如下截图所示</p>
<p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-194649-6358c1d5e872970fc0eb5b7134f60ba2-f97eba.png">
            <img class="mx-auto" alt="gvm-start-local" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-194649-6358c1d5e872970fc0eb5b7134f60ba2-f97eba.png" />
        </a>
    </p>
<p>后面还跟着<code>gsad.service</code>、<code>gvmd.service</code>、<code>ospd-openvas.service</code>等相关组件的启动状态信息。</p>
<p>这个时候我们就可以在kali系统上通过浏览器访问<code>https://127.0.0.1:9392</code>来使用gvm漏扫了。</p>
<p><strong>补充</strong>：其实<code>gvm-start</code>就是同时启动了相关组件，如果想要配置<code>gvm</code>为开机自动启动，将相关组件加入systemd管理就好了。</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo systemctl <span style="color:#111">enable</span> gsad.service
sudo systemctl <span style="color:#111">enable</span> gvmd.service
sudo systemctl <span style="color:#111">enable</span> ospd-openvas.service
sudo systemctl <span style="color:#111">enable</span> notus-scanner.service
</code></pre></td></tr></table>
</div>
</div><h3 id="局域网访问">局域网访问</h3>
<p>这个时候局域网内其他主机还无法通过IP地址(比如192.168.120.15)访问，如果每次使用gvm漏扫，都需要先远程到这台kali linux来操作，那也是挺麻烦的。所以还需要再修改一下配置，使得相关人员可以直接在本地浏览器上输入<code>https://192.168.120.15:9392</code>使用gvm。</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># sudo vi /usr/lib/systemd/system/gsad.service</span>
<span style="color:#111">ExecStart</span><span style="color:#f92672">=</span>/usr/sbin/gsad --foreground --listen 127.0.0.1 --port <span style="color:#ae81ff">9392</span>
<span style="color:#75715e"># 修改为如下内容</span>
<span style="color:#111">ExecStart</span><span style="color:#f92672">=</span>/usr/sbin/gsad --foreground --listen 192.168.120.15 --port <span style="color:#ae81ff">9392</span>

<span style="color:#75715e"># 保存退出后重新加载systemd配置</span>
sudo systemctl daemon-reload
<span style="color:#75715e"># 重启gsad服务</span>
sudo systemctl restart greenbone-security-assistant.service
</code></pre></td></tr></table>
</div>
</div><p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-202208-59c097a70df973a7a093333a1b956605-fff0ff.png">
            <img class="mx-auto" alt="gsad.service-status" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-202208-59c097a70df973a7a093333a1b956605-fff0ff.png" />
        </a>
    </p>
<p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-202456-426657608f5f3b5ca1755955f0fd611c-ced3d1.png">
            <img class="mx-auto" alt="gvm登录页" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-202456-426657608f5f3b5ca1755955f0fd611c-ced3d1.png" />
        </a>
    </p>
<p>此处的密码就是在第一次运行<code>gvm-setup</code>的时候生成的随机密码。</p>
<p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-202332-6927aba8f1ab18780c2def05632be811-aa7d9d.png">
            <img class="mx-auto" alt="gvm后台" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0426-202332-6927aba8f1ab18780c2def05632be811-aa7d9d.png" />
        </a>
    </p>
<h3 id="greenbone-feed-sync">greenbone-feed-sync</h3>
<p><strong>旧版gvm可以使用<code>gvm-feed-update</code></strong>。</p>
<p>这个是获取gvm的各种漏洞特征库数据用的，第一次安装配置，在运行<code>gvm-setup</code>的时候已经同步过数据了，可以先不用管，后续需要定期执行一次，用于同步最新的漏洞信息。</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">┌──<span style="color:#f92672">(</span>xy㉿kali<span style="color:#f92672">)</span>-<span style="color:#f92672">[</span>~<span style="color:#f92672">]</span>
└─$ sudo gvm-feed-update -h
<span style="color:#f92672">[</span>sudo<span style="color:#f92672">]</span> password <span style="color:#00a8c8">for</span> xy:
<span style="color:#f92672">[</span>&gt;<span style="color:#f92672">]</span> This script is now deprecated
<span style="color:#f92672">[</span>&gt;<span style="color:#f92672">]</span> Please use <span style="color:#d88200">&#39;sudo greenbone-feed-sync&#39;</span> instead
┌──<span style="color:#f92672">(</span>xy㉿kali<span style="color:#f92672">)</span>-<span style="color:#f92672">[</span>~<span style="color:#f92672">]</span>
└─$ sudo greenbone-feed-sync
Running as root. Switching to user <span style="color:#d88200">&#39;_gvm&#39;</span> and group <span style="color:#d88200">&#39;_gvm&#39;</span>.
Trying to acquire lock on /var/lib/openvas/feed-update.lock
Acquired lock on /var/lib/openvas/feed-update.lock
⠙ Downloading Notus files from rsync://feed.community.greenbone.net/community/vulnerability-feed/22.04/vt-data/notus/ to /var/lib/notus
⠧ Downloading NASL files from rsync://feed.community.greenbone.net/community/vulnerability-feed/22.04/vt-data/nasl/ to /var/lib/openvas/plugins
Releasing lock on /var/lib/openvas/feed-update.lock
……
</code></pre></td></tr></table>
</div>
</div><h4 id="greenbone-feed-sync补充">greenbone-feed-sync补充</h4>
<p><code>greenbone-feed-sync</code>部分可能比较常用的参数说明</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">-h		查看使用说明
--type <span style="color:#f92672">{</span>all,nvt,gvmd-data,scap,cert,notus,nasl,report-format,scan-config,port-list<span style="color:#f92672">}</span>
		选择性同步scap、nvt、nasl等指定特征库数据
--gvmd-data-destination <span style="color:#f92672">[</span>/var/lib/gvm/data-objects/gvmd/22.04<span style="color:#f92672">]</span>
--gvmd-data-url <span style="color:#f92672">[</span>第三方代理同步库<span style="color:#f92672">]</span>
--notus-destination <span style="color:#f92672">[</span>/var/lib/notus<span style="color:#f92672">]</span>
--nasl-destination <span style="color:#f92672">[</span>/var/lib/openvas/plugins<span style="color:#f92672">]</span>
--scap-data-destination <span style="color:#f92672">[</span>/var/lib/gvm/scap-data<span style="color:#f92672">]</span>
--cert-data-destination <span style="color:#f92672">[</span>/var/lib/gvm/cert-data<span style="color:#f92672">]</span>
		内网不通互联网的时候，可以使用这些参数指定同步数据的目标目录
</code></pre></td></tr></table>
</div>
</div><h3 id="内网gvm同步特征库">内网gvm同步特征库</h3>
<p>gvm可能是要部署在内网服务器或虚拟机上，无法直接从官网同步数据，这种情况下，我们可以在通互联网的本地搭建一台gvm虚拟机，运行同步，然后再将相关数据上传到内网gvm进行还原。</p>
<p>通过<code>gvm-setup</code>和<code>greenbone-feed-sync</code>同步的过程我们可以确定，各种特征库保存在以下目录中：</p>
<ul>
<li>
<p>/var/lib/notus</p>
</li>
<li>
<p>/var/lib/openvas/plugins</p>
</li>
<li>
<p>/var/lib/gvm/scap-data</p>
</li>
<li>
<p>/var/lib/gvm/cert-data</p>
</li>
<li>
<p>/var/lib/gvm/data-objects/gvmd/</p>
</li>
</ul>
<p>内网gvm同步特征库的大致过程如下：</p>
<ol>
<li>本地gvm为这些特征库创建备份库</li>
<li>本地gvm运行<code>greenbone-feed-sync</code>获取更新</li>
<li>本地特征库与备份库比较，制作增量备份包</li>
<li>下载增量备份包</li>
<li>增量备份包导入内网gvm，并同步到内网特征库</li>
<li>本地备份库合并增量备份包</li>
<li>返回第2步，再次获取更新</li>
</ol>
<p><em>细节有空再验证补充，看sync等工具是否具备增量备份相关功能，以及<code>greenbone-feed-sync</code>是否支持增量同步。或者直接全量拷贝到内网，然后再同步也行，全量特征库应该也不至于到几十个G吧……</em></p>
<h3 id="汉化-修改密码">汉化-修改密码</h3>
<p>安装完成后，web界面默认是英文的，对于本渣实在是不友好。</p>
<p>
        <a data-fancybox="gallery" href="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0427-123337-db55e98ace057d8f5372e3b9e86e7f11-4a5a75.png">
            <img class="mx-auto" alt="汉化配置" src="http://img.xy-ylr.cn/picgo/picgo-clipboard-images/2024-0427-123337-db55e98ace057d8f5372e3b9e86e7f11-4a5a75.png" />
        </a>
    </p>
<p>登录web后，鼠标移到右上角的小人，点击弹窗里的<code>my settings</code>选项，然后再点击<code>my settings</code>页面左上角齿轮上面的‘笔’，会弹出<code>edit user settings</code>弹窗，在这里可以<strong>设定时区</strong>、<strong>修改密码</strong>、<strong>修改界面语言</strong>等配置。</p>
<p>这里gvm默认设置是跟随浏览器语言，没啥用，显示不了中文，其他可选的还有德语、繁体中文、英语。</p>
<p>同时，在系统<code>/usr/share/gvm/gsad/web/locales/</code>目录下面有一些<code>.json</code>文件，这些都是各种语言翻译，其中<code>gsa-zh_CN.json</code>就是简体中文，<code>gsa-zh_TW.json</code>是繁体中文，<code>gsa-de.json</code>是德语。</p>
<p>虽然gvm本身不支持简体中文，但是我们可以把<code>gsa-zh_CN.json</code>重命名为<code>gsa-de.json</code>，然后在后台选择界面语言为德语。</p>
<p><strong>补充</strong>：在Greenbone github官方项目组里有个<a href="https://github.com/greenbone/gsa">gsa仓库</a>，这个是gvm社区版web前端，其说明文档里有提到目前支持的语言。</p>
<blockquote>
<p>The currently supported languages are listed at <a href="https://github.com/greenbone/gsa/blob/main/src/gmp/locale/languages.js#L23">src/gmp/locale/languages.js</a>.  If a new language should be available in the web UI, it needs an entry in this object. Additionally the corresponding language codes must be added to the <a href="https://github.com/greenbone/gsa/blob/main/.babelrc">babel config</a> and <a href="https://github.com/greenbone/gsa/blob/main/scripts/cleanuptranslations.js">cleanup script</a>.</p>
</blockquote>
<p>该languages.js文件部分源码如下：</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a8c8">const</span> <span style="color:#75af00">Languages</span> <span style="color:#f92672">=</span> <span style="color:#111">{</span>
  <span style="color:#75af00">de</span><span style="color:#f92672">:</span> <span style="color:#111">{</span>
    <span style="color:#75af00">name</span><span style="color:#f92672">:</span> <span style="color:#d88200">&#39;German&#39;</span><span style="color:#111">,</span>
    <span style="color:#75af00">native_name</span><span style="color:#f92672">:</span> <span style="color:#d88200">&#39;Deutsch&#39;</span><span style="color:#111">,</span>
  <span style="color:#111">},</span>
  <span style="color:#75af00">en</span><span style="color:#f92672">:</span> <span style="color:#111">{</span>
    <span style="color:#75af00">name</span><span style="color:#f92672">:</span> <span style="color:#d88200">&#39;English&#39;</span><span style="color:#111">,</span>
    <span style="color:#75af00">native_name</span><span style="color:#f92672">:</span> <span style="color:#d88200">&#39;English&#39;</span><span style="color:#111">,</span>
  <span style="color:#111">},</span>
  <span style="color:#75af00">zh_TW</span><span style="color:#f92672">:</span> <span style="color:#111">{</span> 
    <span style="color:#75af00">name</span><span style="color:#f92672">:</span> <span style="color:#d88200">&#39;Traditional Chinese&#39;</span><span style="color:#111">,</span> 
    <span style="color:#75af00">native_name</span><span style="color:#f92672">:</span> <span style="color:#d88200">&#39;繁體中文&#39;</span><span style="color:#111">,</span>
  <span style="color:#111">},</span>
<span style="color:#111">};</span>
</code></pre></td></tr></table>
</div>
</div><p>这应该就是gvm默认不支持简体中文的原因。</p>
<p>如果你安装时候在系统<code>/usr/share/gvm/gsad/web/locales/</code>目录下找不到<code>gsa-zh_CN.json</code>文件，也可以到该仓库下载：<a href="https://github.com/greenbone/gsa/blob/main/public/locales/gsa-zh_CN.json">https://github.com/greenbone/gsa/blob/main/public/locales/gsa-zh_CN.json</a>。</p>
<p>或者你也可以按照该项目Readme文件，将该项目重新配置构建，然后复制到系统中的<code>/usr/share/gvm/gsad/web/</code>目录，使得web界面实实在在的多一个简体中文选项^ ^。</p>
<h3 id="gvm-stop">gvm-stop</h3>
<p>这个就是一键停止gvm相关组件，一般情况下都用不到。</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">┌──<span style="color:#f92672">(</span>xy㉿kali<span style="color:#f92672">)</span>-<span style="color:#f92672">[</span>~<span style="color:#f92672">]</span>
└─$ sudo gvm-stop -h
<span style="color:#f92672">[</span>&gt;<span style="color:#f92672">]</span> Stopping GVM services
○ gsad.service - Greenbone Security Assistant daemon <span style="color:#f92672">(</span>gsad<span style="color:#f92672">)</span>
     Loaded: loaded <span style="color:#f92672">(</span>/usr/lib/systemd/system/gsad.service<span style="color:#111">;</span> enabled<span style="color:#111">;</span> preset: disabled<span style="color:#f92672">)</span>
     Active: inactive <span style="color:#f92672">(</span>dead<span style="color:#f92672">)</span> since Fri 2024-04-26 19:54:16 CST<span style="color:#111">;</span> 503ms ago
   Duration: 10min 15.552s
       Docs: man:gsad<span style="color:#f92672">(</span>8<span style="color:#f92672">)</span>
             https://www.greenbone.net
    Process: <span style="color:#ae81ff">14041</span> <span style="color:#111">ExecStart</span><span style="color:#f92672">=</span>/usr/sbin/gsad --foreground --listen 127.0.0.1 --port <span style="color:#ae81ff">9392</span> <span style="color:#f92672">(</span><span style="color:#111">code</span><span style="color:#f92672">=</span>killed, <span style="color:#111">signal</span><span style="color:#f92672">=</span>TERM<span style="color:#f92672">)</span>
   Main PID: <span style="color:#ae81ff">14041</span> <span style="color:#f92672">(</span><span style="color:#111">code</span><span style="color:#f92672">=</span>killed, <span style="color:#111">signal</span><span style="color:#f92672">=</span>TERM<span style="color:#f92672">)</span>
        CPU: 302ms

Apr <span style="color:#ae81ff">26</span> 19:44:00 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Starting gsad.service - Greenbone Security Assistant daemon <span style="color:#f92672">(</span>gsad<span style="color:#f92672">)</span>...
Apr <span style="color:#ae81ff">26</span> 19:44:00 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Started gsad.service - Greenbone Security Assistant daemon <span style="color:#f92672">(</span>gsad<span style="color:#f92672">)</span>.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopping gsad.service - Greenbone Security Assistant daemon <span style="color:#f92672">(</span>gsad<span style="color:#f92672">)</span>...
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: gsad.service: Deactivated successfully.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopped gsad.service - Greenbone Security Assistant daemon <span style="color:#f92672">(</span>gsad<span style="color:#f92672">)</span>.

○ gvmd.service - Greenbone Vulnerability Manager daemon <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>
     Loaded: loaded <span style="color:#f92672">(</span>/usr/lib/systemd/system/gvmd.service<span style="color:#111">;</span> enabled<span style="color:#111">;</span> preset: disabled<span style="color:#f92672">)</span>
     Active: inactive <span style="color:#f92672">(</span>dead<span style="color:#f92672">)</span> since Fri 2024-04-26 19:54:16 CST<span style="color:#111">;</span> 492ms ago
   Duration: 10min 20.606s
       Docs: man:gvmd<span style="color:#f92672">(</span>8<span style="color:#f92672">)</span>
    Process: <span style="color:#ae81ff">13912</span> <span style="color:#111">ExecStart</span><span style="color:#f92672">=</span>/usr/sbin/gvmd --osp-vt-update<span style="color:#f92672">=</span>/run/ospd/ospd.sock --listen-group<span style="color:#f92672">=</span>_gvm <span style="color:#f92672">(</span><span style="color:#111">code</span><span style="color:#f92672">=</span>exited, <span style="color:#111">status</span><span style="color:#f92672">=</span>0/SUCCESS<span style="color:#f92672">)</span>
   Main PID: <span style="color:#ae81ff">13913</span> <span style="color:#f92672">(</span><span style="color:#111">code</span><span style="color:#f92672">=</span>killed, <span style="color:#111">signal</span><span style="color:#f92672">=</span>TERM<span style="color:#f92672">)</span>
        CPU: 7.107s

Apr <span style="color:#ae81ff">26</span> 19:43:49 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Starting gvmd.service - Greenbone Vulnerability Manager daemon <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>...
Apr <span style="color:#ae81ff">26</span> 19:43:49 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: gvmd.service: Can<span style="color:#960050;background-color:#1e0010">&#39;</span>t open PID file /run/gvmd/gvmd.pid <span style="color:#f92672">(</span>yet?<span style="color:#f92672">)</span> after start: No such file or directory
Apr <span style="color:#ae81ff">26</span> 19:43:55 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Started gvmd.service - Greenbone Vulnerability Manager daemon <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopping gvmd.service - Greenbone Vulnerability Manager daemon <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>...
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: gvmd.service: Deactivated successfully.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopped gvmd.service - Greenbone Vulnerability Manager daemon <span style="color:#f92672">(</span>gvmd<span style="color:#f92672">)</span>.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: gvmd.service: Consumed 7.107s CPU time, 304.8M memory peak, 0B memory swap peak.

○ ospd-openvas.service - OSPd Wrapper <span style="color:#00a8c8">for</span> the OpenVAS Scanner <span style="color:#f92672">(</span>ospd-openvas<span style="color:#f92672">)</span>
     Loaded: loaded <span style="color:#f92672">(</span>/usr/lib/systemd/system/ospd-openvas.service<span style="color:#111">;</span> enabled<span style="color:#111">;</span> preset: disabled<span style="color:#f92672">)</span>
     Active: inactive <span style="color:#f92672">(</span>dead<span style="color:#f92672">)</span> since Fri 2024-04-26 19:54:16 CST<span style="color:#111">;</span> 24ms ago
   Duration: 10min 27.291s
       Docs: man:ospd-openvas<span style="color:#f92672">(</span>8<span style="color:#f92672">)</span>
             man:openvas<span style="color:#f92672">(</span>8<span style="color:#f92672">)</span>
    Process: <span style="color:#ae81ff">13885</span> <span style="color:#111">ExecStart</span><span style="color:#f92672">=</span>/usr/bin/ospd-openvas --config /etc/gvm/ospd-openvas.conf --log-config /etc/gvm/ospd-logging.conf <span style="color:#f92672">(</span><span style="color:#111">code</span><span style="color:#f92672">=</span>exited, <span style="color:#111">status</span><span style="color:#f92672">=</span>0/SUCCESS<span style="color:#f92672">)</span>
   Main PID: <span style="color:#ae81ff">13900</span> <span style="color:#f92672">(</span><span style="color:#111">code</span><span style="color:#f92672">=</span>exited, <span style="color:#111">status</span><span style="color:#f92672">=</span>0/SUCCESS<span style="color:#f92672">)</span>
        CPU: 1min 34.444s

Apr <span style="color:#ae81ff">26</span> 19:43:48 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Starting ospd-openvas.service - OSPd Wrapper <span style="color:#00a8c8">for</span> the OpenVAS Scanner <span style="color:#f92672">(</span>ospd-openvas<span style="color:#f92672">)</span>...
Apr <span style="color:#ae81ff">26</span> 19:43:49 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Started ospd-openvas.service - OSPd Wrapper <span style="color:#00a8c8">for</span> the OpenVAS Scanner <span style="color:#f92672">(</span>ospd-openvas<span style="color:#f92672">)</span>.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopping ospd-openvas.service - OSPd Wrapper <span style="color:#00a8c8">for</span> the OpenVAS Scanner <span style="color:#f92672">(</span>ospd-openvas<span style="color:#f92672">)</span>...
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: ospd-openvas.service: Deactivated successfully.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopped ospd-openvas.service - OSPd Wrapper <span style="color:#00a8c8">for</span> the OpenVAS Scanner <span style="color:#f92672">(</span>ospd-openvas<span style="color:#f92672">)</span>.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: ospd-openvas.service: Consumed 1min 34.444s CPU time, 106.8M memory peak, 0B memory swap peak.

○ notus-scanner.service - Notus Scanner
     Loaded: loaded <span style="color:#f92672">(</span>/usr/lib/systemd/system/notus-scanner.service<span style="color:#111">;</span> enabled<span style="color:#111">;</span> preset: disabled<span style="color:#f92672">)</span>
     Active: inactive <span style="color:#f92672">(</span>dead<span style="color:#f92672">)</span> since Fri 2024-04-26 19:54:16 CST<span style="color:#111">;</span> 414ms ago
   Duration: 10min 27.426s
       Docs: https://github.com/greenbone/notus-scanner
    Process: <span style="color:#ae81ff">13884</span> <span style="color:#111">ExecStart</span><span style="color:#f92672">=</span>/usr/bin/notus-scanner <span style="color:#f92672">(</span><span style="color:#111">code</span><span style="color:#f92672">=</span>exited, <span style="color:#111">status</span><span style="color:#f92672">=</span>0/SUCCESS<span style="color:#f92672">)</span>
   Main PID: <span style="color:#ae81ff">13894</span> <span style="color:#f92672">(</span><span style="color:#111">code</span><span style="color:#f92672">=</span>exited, <span style="color:#111">status</span><span style="color:#f92672">=</span>0/SUCCESS<span style="color:#f92672">)</span>
        CPU: 848ms

Apr <span style="color:#ae81ff">26</span> 19:43:48 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Starting notus-scanner.service - Notus Scanner...
Apr <span style="color:#ae81ff">26</span> 19:43:49 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Started notus-scanner.service - Notus Scanner.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopping notus-scanner.service - Notus Scanner...
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: notus-scanner.service: Deactivated successfully.
Apr <span style="color:#ae81ff">26</span> 19:54:16 kali systemd<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: Stopped notus-scanner.service - Notus Scanner.

</code></pre></td></tr></table>
</div>
</div><h2 id="参考">参考</h2>
<p><a href="https://www.kali.org/tools/gvm/">kali官网关于openvas（GVM）的介绍</a></p>
<p>另外两种安装方法：</p>
<p><a href="https://kifarunix.com/install-greenbone-vulnerability-management-gvm-on-debian-12/#configure-mosquitto-mqtt-broker-for-gvm">在debian12中通过源码安装openvas（GVM）</a></p>
<p><a href="https://www.mryunwei.com/497412.html">在debian12上安装openvas</a></p>
<p>ospd-openvas.service无法启动错误涉及的相关文件的部分源码：</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">## /usr/lib/python3/dist-packages/ospd_openvas/messaging/mqtt.py部分源码</span>
<span style="color:#75715e"># 继承mqtt父类，完成相关客户端初始化</span>
<span style="color:#f92672">import</span> <span style="color:#111">paho.mqtt.client</span> <span style="color:#f92672">as</span> <span style="color:#111">mqtt</span>

<span style="color:#00a8c8">class</span> <span style="color:#75af00">MQTTClient</span><span style="color:#111">(</span><span style="color:#111">mqtt</span><span style="color:#f92672">.</span><span style="color:#111">Client</span><span style="color:#111">):</span>
    <span style="color:#00a8c8">def</span> <span style="color:#111">__init__</span><span style="color:#111">(</span>
        <span style="color:#111">self</span><span style="color:#111">,</span>
        <span style="color:#111">mqtt_broker_address</span><span style="color:#111">:</span> <span style="color:#111">str</span><span style="color:#111">,</span>
        <span style="color:#111">mqtt_broker_port</span><span style="color:#111">:</span> <span style="color:#111">int</span><span style="color:#111">,</span>
        <span style="color:#111">client_id</span><span style="color:#f92672">=</span><span style="color:#111">OSPD_OPENVAS_MQTT_CLIENT_ID</span><span style="color:#111">,</span>
    <span style="color:#111">):</span>
        <span style="color:#111">self</span><span style="color:#f92672">.</span><span style="color:#111">_mqtt_broker_address</span> <span style="color:#f92672">=</span> <span style="color:#111">mqtt_broker_address</span>
        <span style="color:#111">self</span><span style="color:#f92672">.</span><span style="color:#111">_mqtt_broker_port</span> <span style="color:#f92672">=</span> <span style="color:#111">mqtt_broker_port</span>

        <span style="color:#111">super</span><span style="color:#111">()</span><span style="color:#f92672">.</span><span style="color:#111">__init__</span><span style="color:#111">(</span><span style="color:#111">client_id</span><span style="color:#f92672">=</span><span style="color:#111">client_id</span><span style="color:#111">,</span> <span style="color:#111">protocol</span><span style="color:#f92672">=</span><span style="color:#111">mqtt</span><span style="color:#f92672">.</span><span style="color:#111">MQTTv5</span><span style="color:#111">)</span>

        <span style="color:#111">self</span><span style="color:#f92672">.</span><span style="color:#111">enable_logger</span><span style="color:#111">()</span>

<span style="color:#75715e">## /usr/lib/python3/dist-packages/paho/mqtt/client.py部分源码</span>
<span style="color:#75715e"># 在同级目录下的enums文件中有定义CallbackAPIVersion</span>
<span style="color:#f92672">from</span> <span style="color:#111">.enums</span> <span style="color:#f92672">import</span> <span style="color:#111">CallbackAPIVersion</span><span style="color:#111">,</span> <span style="color:#111">ConnackCode</span><span style="color:#111">,</span> <span style="color:#111">LogLevel</span><span style="color:#111">,</span> <span style="color:#111">MessageState</span><span style="color:#111">,</span> <span style="color:#111">MessageType</span><span style="color:#111">,</span> <span style="color:#111">MQTTErrorCode</span><span style="color:#111">,</span> <span style="color:#111">MQTTProtocolVersion</span><span style="color:#111">,</span> <span style="color:#111">PahoClientMode</span><span style="color:#111">,</span> <span style="color:#111">_ConnectionState</span>
<span style="color:#75715e"># 初始化的时候有个callback_api_version参数来指定callback接口的版本，默认使用CallbackAPIVersion？</span>
   <span style="color:#00a8c8">def</span> <span style="color:#111">__init__</span><span style="color:#111">(</span>
        <span style="color:#111">self</span><span style="color:#111">,</span>
        <span style="color:#111">callback_api_version</span><span style="color:#111">:</span> <span style="color:#111">CallbackAPIVersion</span><span style="color:#111">,</span>
        <span style="color:#111">client_id</span><span style="color:#111">:</span> <span style="color:#111">str</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;&#34;</span><span style="color:#111">,</span>
        <span style="color:#111">clean_session</span><span style="color:#111">:</span> <span style="color:#111">bool</span> <span style="color:#f92672">|</span> <span style="color:#111">None</span> <span style="color:#f92672">=</span> <span style="color:#111">None</span><span style="color:#111">,</span>
        <span style="color:#111">userdata</span><span style="color:#111">:</span> <span style="color:#111">Any</span> <span style="color:#f92672">=</span> <span style="color:#111">None</span><span style="color:#111">,</span>
        <span style="color:#111">protocol</span><span style="color:#111">:</span> <span style="color:#111">int</span> <span style="color:#f92672">=</span> <span style="color:#111">MQTTv311</span><span style="color:#111">,</span>
        <span style="color:#111">transport</span><span style="color:#111">:</span> <span style="color:#111">Literal</span><span style="color:#111">[</span><span style="color:#d88200">&#34;tcp&#34;</span><span style="color:#111">,</span> <span style="color:#d88200">&#34;websockets&#34;</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;tcp&#34;</span><span style="color:#111">,</span>
        <span style="color:#111">reconnect_on_failure</span><span style="color:#111">:</span> <span style="color:#111">bool</span> <span style="color:#f92672">=</span> <span style="color:#111">True</span><span style="color:#111">,</span>
        <span style="color:#111">manual_ack</span><span style="color:#111">:</span> <span style="color:#111">bool</span> <span style="color:#f92672">=</span> <span style="color:#111">False</span><span style="color:#111">,</span>
    <span style="color:#111">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#111">None</span><span style="color:#111">:</span>
<span style="color:#75715e"># 给callback_api_version赋值</span>
        <span style="color:#111">self</span><span style="color:#f92672">.</span><span style="color:#111">_callback_api_version</span> <span style="color:#f92672">=</span> <span style="color:#111">callback_api_version</span>
<span style="color:#75715e"># 判断callback_api_version值的有效性</span>
        <span style="color:#00a8c8">if</span> <span style="color:#111">self</span><span style="color:#f92672">.</span><span style="color:#111">_callback_api_version</span> <span style="color:#f92672">==</span> <span style="color:#111">CallbackAPIVersion</span><span style="color:#f92672">.</span><span style="color:#111">VERSION1</span><span style="color:#111">:</span>
            <span style="color:#111">warnings</span><span style="color:#f92672">.</span><span style="color:#111">warn</span><span style="color:#111">(</span>
                <span style="color:#d88200">&#34;Callback API version 1 is deprecated, update to latest version&#34;</span><span style="color:#111">,</span>
                <span style="color:#111">category</span><span style="color:#f92672">=</span><span style="color:#75af00">DeprecationWarning</span><span style="color:#111">,</span>
                <span style="color:#111">stacklevel</span><span style="color:#f92672">=</span><span style="color:#ae81ff">2</span><span style="color:#111">,</span>
            <span style="color:#111">)</span>
        <span style="color:#00a8c8">if</span> <span style="color:#111">isinstance</span><span style="color:#111">(</span><span style="color:#111">self</span><span style="color:#f92672">.</span><span style="color:#111">_callback_api_version</span><span style="color:#111">,</span> <span style="color:#111">str</span><span style="color:#111">):</span>
            <span style="color:#75715e"># Help user to migrate, it probably provided a client id</span>
            <span style="color:#75715e"># as first arguments</span>
            <span style="color:#00a8c8">raise</span> <span style="color:#75af00">ValueError</span><span style="color:#111">(</span>
                <span style="color:#d88200">&#34;Unsupported callback API version: version 2.0 added a callback_api_version, see migrations.md for details&#34;</span>
            <span style="color:#111">)</span>
        <span style="color:#00a8c8">if</span> <span style="color:#111">self</span><span style="color:#f92672">.</span><span style="color:#111">_callback_api_version</span> <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> <span style="color:#111">CallbackAPIVersion</span><span style="color:#111">:</span>
            <span style="color:#00a8c8">raise</span> <span style="color:#75af00">ValueError</span><span style="color:#111">(</span><span style="color:#d88200">&#34;Unsupported callback API version&#34;</span><span style="color:#111">)</span>

<span style="color:#75715e">## /usr/lib/python3/dist-packages/paho/mqtt/enums.py部分源码</span>
<span style="color:#00a8c8">class</span> <span style="color:#75af00">CallbackAPIVersion</span><span style="color:#111">(</span><span style="color:#111">enum</span><span style="color:#f92672">.</span><span style="color:#111">Enum</span><span style="color:#111">):</span>
    <span style="color:#d88200">&#34;&#34;&#34;Defined the arguments passed to all user-callback.
</span><span style="color:#d88200">
</span><span style="color:#d88200">    See each callbacks for details: `on_connect`, `on_connect_fail`, `on_disconnect`, `on_message`, `on_publish`,
</span><span style="color:#d88200">    `on_subscribe`, `on_unsubscribe`, `on_log`, `on_socket_open`, `on_socket_close`,
</span><span style="color:#d88200">    `on_socket_register_write`, `on_socket_unregister_write`
</span><span style="color:#d88200">    &#34;&#34;&#34;</span>
    <span style="color:#111">VERSION1</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
    <span style="color:#d88200">&#34;&#34;&#34;The version used with paho-mqtt 1.x before introducing CallbackAPIVersion.
</span><span style="color:#d88200">
</span><span style="color:#d88200">    This version had different arguments depending if MQTTv5 or MQTTv3 was used. `Properties` &amp; `ReasonCode` were missing
</span><span style="color:#d88200">    on some callback (apply only to MQTTv5).
</span><span style="color:#d88200">
</span><span style="color:#d88200">    This version is deprecated and will be removed in version 3.0.
</span><span style="color:#d88200">    &#34;&#34;&#34;</span>
    <span style="color:#111">VERSION2</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
    <span style="color:#d88200">&#34;&#34;&#34; This version fix some of the shortcoming of previous version.
</span><span style="color:#d88200">
</span><span style="color:#d88200">    Callback have the same signature if using MQTTv5 or MQTTv3. `ReasonCode` are used in MQTTv3.
</span><span style="color:#d88200">    &#34;&#34;&#34;</span>

</code></pre></td></tr></table>
</div>
</div>
        </div>

        
<div class="post-archive">
    <ul class="post-copyright">
        <li><strong>原文作者：</strong><a rel="author" href="https://xy-ylr.github.io">四十荀</a></li>
        <li style="word-break:break-all"><strong>原文链接：</strong><a href="https://xy-ylr.github.io/it/kali_configure_openvas/">https://xy-ylr.github.io/it/kali_configure_openvas/</a></li>
        <li><strong>版权声明：</strong>本作品采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li>
    </ul>
</div>
<br/>



        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/it/linux_iso2local_yum/">Linux使用iso镜像制作本地源</a></li>
        
        <li><a href="/it/linux_fdisk/">Linux系统磁盘的分区 格式化与挂载</a></li>
        
        <li><a href="/it/linux_install_zabbix/">Linux操作系统上安装Zabbix运维工具并基础配置</a></li>
        
        <li><a href="/it/zabbix_snmp_trap/">Zabbix配置snmp trap接收主动告警</a></li>
        
        <li><a href="/it/debian_install/">安装Debian系统后的基础配置</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/tags/kali'>kali</a></li>
                
                <li><a href='/tags/linux'>linux</a></li>
                
                <li><a href='/tags/openvasgvm'>openvas(gvm)</a></li>
                
                <li><a href='/tags/%E6%BC%8F%E6%89%AB'>漏扫</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "xy-ylr/blog-comments"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
    
    

</div>

                    <footer id="footer">
    <div>
        &copy; 2024 <a href="https://xy-ylr.github.io">四十荀的博客 By 四十荀</a>
        
        | <a rel="nofollow" target="_blank" href="http://beian.miit.gov.cn/">浙ICP备2023002264号-1</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>
    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://xy-ylr.github.io/search' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://xy-ylr.github.io">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://xy-ylr.github.io/it/kali_configure_openvas/" title="Kali2024.1安装配置openvas(gvm)漏洞扫描软件">Kali2024.1安装配置openvas(gvm)漏洞扫描软件</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/linux_iso2local_yum/" title="Linux使用iso镜像制作本地源">Linux使用iso镜像制作本地源</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/vmware_patches_updates/" title="Vmware更新补丁方法">Vmware更新补丁方法</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/zabbix_snmp_trap/" title="Zabbix配置snmp trap接收主动告警">Zabbix配置snmp trap接收主动告警</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/vlmcsd_kms/" title="利用VLMCSD部署本地KMS服务器">利用VLMCSD部署本地KMS服务器</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/snmp/" title="SNMP基础">SNMP基础</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/huawei_css/" title="华为交换机STACK堆叠与CSS集群配置">华为交换机STACK堆叠与CSS集群配置</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/h3c_complex_nat/" title="H3c防火墙双向地址转换配置">H3c防火墙双向地址转换配置</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/h3c_snat/" title="H3c防火墙源地址转换配置">H3c防火墙源地址转换配置</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/h3c_network_nat/" title="H3C防火墙NAT配置">H3C防火墙NAT配置</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>分类</a></h3>
<ul class="widget-list">
    
    <li><a href="https://xy-ylr.github.io/categories/Windows/">Windows (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/debian/">debian (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/git/">git (4)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/linux/">linux (9)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/office%E5%8A%9E%E5%85%AC/">office办公 (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/snmp/">snmp (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/vmware/">vmware (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/zabbix/">zabbix (2)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E5%81%A5%E8%BA%AB/">健身 (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E5%86%9C%E4%B8%9A/">农业 (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E7%90%86%E8%B4%A2/">理财 (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E7%BC%96%E8%BE%91/">编辑 (3)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E7%BD%91%E7%BB%9C/">网络 (11)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E8%BF%90%E7%BB%B4/">运维 (2)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://xy-ylr.github.io/tags/DHCP/">DHCP</a>
    
    <a href="https://xy-ylr.github.io/tags/alias/">alias</a>
    
    <a href="https://xy-ylr.github.io/tags/apt/">apt</a>
    
    <a href="https://xy-ylr.github.io/tags/bash-shell/">bash shell</a>
    
    <a href="https://xy-ylr.github.io/tags/css%E9%9B%86%E7%BE%A4/">css集群</a>
    
    <a href="https://xy-ylr.github.io/tags/debian/">debian</a>
    
    <a href="https://xy-ylr.github.io/tags/dnf/">dnf</a>
    
    <a href="https://xy-ylr.github.io/tags/excel/">excel</a>
    
    <a href="https://xy-ylr.github.io/tags/firewalld/">firewalld</a>
    
    <a href="https://xy-ylr.github.io/tags/git/">git</a>
    
    <a href="https://xy-ylr.github.io/tags/github/">github</a>
    
    <a href="https://xy-ylr.github.io/tags/h3c/">h3c</a>
    
    <a href="https://xy-ylr.github.io/tags/h3c%E9%98%B2%E7%81%AB%E5%A2%99/">h3c防火墙</a>
    
    <a href="https://xy-ylr.github.io/tags/hugo/">hugo</a>
    
    <a href="https://xy-ylr.github.io/tags/irf/">irf</a>
    
    <a href="https://xy-ylr.github.io/tags/kali/">kali</a>
    
    <a href="https://xy-ylr.github.io/tags/kms%E6%BF%80%E6%B4%BB/">kms激活</a>
    
    <a href="https://xy-ylr.github.io/tags/linux/">linux</a>
    
    <a href="https://xy-ylr.github.io/tags/lvm/">lvm</a>
    
    <a href="https://xy-ylr.github.io/tags/nat/">nat</a>
    
    <a href="https://xy-ylr.github.io/tags/nat%E9%85%8D%E7%BD%AE/">nat配置</a>
    
    <a href="https://xy-ylr.github.io/tags/network/">network</a>
    
    <a href="https://xy-ylr.github.io/tags/openvasgvm/">openvas(gvm)</a>
    
    <a href="https://xy-ylr.github.io/tags/patch-update/">patch update</a>
    
    <a href="https://xy-ylr.github.io/tags/rime/">rime</a>
    
    <a href="https://xy-ylr.github.io/tags/selinux/">selinux</a>
    
    <a href="https://xy-ylr.github.io/tags/snmp/">snmp</a>
    
    <a href="https://xy-ylr.github.io/tags/snmp-trap/">snmp trap</a>
    
    <a href="https://xy-ylr.github.io/tags/ssh/">ssh</a>
    
    <a href="https://xy-ylr.github.io/tags/sudo/">sudo</a>
    
    <a href="https://xy-ylr.github.io/tags/typora/">typora</a>
    
    <a href="https://xy-ylr.github.io/tags/vmware/">vmware</a>
    
    <a href="https://xy-ylr.github.io/tags/windows%E6%BF%80%E6%B4%BB/">windows激活</a>
    
    <a href="https://xy-ylr.github.io/tags/yum/">yum</a>
    
    <a href="https://xy-ylr.github.io/tags/zabbix/">zabbix</a>
    
    <a href="https://xy-ylr.github.io/tags/%E5%81%A5%E8%BA%AB/">健身</a>
    
    <a href="https://xy-ylr.github.io/tags/%E5%86%9C%E4%B8%9A/">农业</a>
    
    <a href="https://xy-ylr.github.io/tags/%E5%88%86%E5%8C%BA/">分区</a>
    
    <a href="https://xy-ylr.github.io/tags/%E5%8D%8E%E4%B8%BA/">华为</a>
    
    <a href="https://xy-ylr.github.io/tags/%E6%8C%82%E8%BD%BD/">挂载</a>
    
    <a href="https://xy-ylr.github.io/tags/%E6%A0%BC%E5%BC%8F%E5%8C%96/">格式化</a>
    
    <a href="https://xy-ylr.github.io/tags/%E6%BC%8F%E6%89%AB/">漏扫</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%82%92%E8%82%A1/">炒股</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%90%86%E8%B4%A2/">理财</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/">磁盘管理</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%BD%91%E7%BB%9C/">网络</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%BD%91%E7%BB%9C-MSTP/">网络, MSTP</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%BD%91%E7%BB%9C%E4%B8%A2%E5%8C%85/">网络丢包</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/">网络工程师</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%BD%91%E7%BB%9C%E6%8E%92%E9%9A%9C/">网络排障</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%BD%91%E7%BB%9C%E7%8E%AF%E8%B7%AF/">网络环路</a>
    
    <a href="https://xy-ylr.github.io/tags/%E8%BF%90%E7%BB%B4/">运维</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://www.flysnow.org/" title="飞雪无情的博客">飞雪无情的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://xy-ylr.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>