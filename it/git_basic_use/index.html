<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    

    <title>Git基础配置及使用 | 四十荀的博客</title>
    <meta property="og:title" content="Git基础配置及使用 - 四十荀的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2022-07-15T15:36:37&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2022-07-15T15:36:37&#43;08:00'>
        
    <meta name="Keywords" content="[git基础配置, git下载与安装, git基础命令]">
    <meta name="description" content="git基础配置, git下载与安装, git基础命令">
        
    <meta name="author" content="四十荀">
    <meta property="og:url" content="https://xy-ylr.github.io/it/git_basic_use/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
        <link href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">
    
    
    
    
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://xy-ylr.github.io">
                        四十荀的博客
                    </a>
                
                <p class="description">运维工程师, 未来新农人, 间歇性运动</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://xy-ylr.github.io">首页</a>
                    
                    <a  href="https://xy-ylr.github.io/it/" title="计算机">计算机</a>
                    
                    <a  href="https://xy-ylr.github.io/finance/" title="理财">理财</a>
                    
                    <a  href="https://xy-ylr.github.io/agriculture/" title="农业">农业</a>
                    
                    <a  href="https://xy-ylr.github.io/fitness/" title="健身">健身</a>
                    
                    <a  href="https://xy-ylr.github.io/others/" title="碎碎念">碎碎念</a>
                    
                    <a  href="https://xy-ylr.github.io/archives/" title="归档">归档</a>
                    
                    <a  href="https://xy-ylr.github.io/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -230px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
         
         
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
         
         
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#安装git">安装Git</a></li>
    <li><a href="#git的三种状态">Git的三种状态</a></li>
    <li><a href="#git基础配置">Git基础配置</a>
      <ul>
        <li><a href="#三个配置文件">三个配置文件:</a></li>
        <li><a href="#配置用户信息">配置用户信息</a></li>
        <li><a href="#配置默认文本编辑器">配置默认文本编辑器</a></li>
        <li><a href="#查看配置信息">查看配置信息</a></li>
      </ul>
    </li>
    <li><a href="#其他--获取帮助信息">其他&ndash;获取帮助信息</a></li>
    <li><a href="#创建git仓库">创建Git仓库</a>
      <ul>
        <li><a href="#初始化本地项目">初始化本地项目</a></li>
        <li><a href="#克隆远程仓库">克隆远程仓库</a></li>
      </ul>
    </li>
    <li><a href="#查看仓库状态">查看仓库状态</a></li>
    <li><a href="#提交更新">提交更新</a>
      <ul>
        <li><a href="#记录更新到暂存区">记录更新到暂存区</a></li>
        <li><a href="#提交更新到仓库">提交更新到仓库</a></li>
        <li><a href="#为什么要分成两步完成更新提交">为什么要分成两步完成更新提交?</a></li>
      </ul>
    </li>
    <li><a href="#设置忽略文件">设置忽略文件</a></li>
    <li><a href="#删除文件">删除文件</a></li>
    <li><a href="#移动文件">移动文件</a></li>
    <li><a href="#比较文件">比较文件</a></li>
    <li><a href="#查看提交历史">查看提交历史</a></li>
    <li><a href="#撤销操作">撤销操作</a>
      <ul>
        <li><a href="#补充更新">补充更新</a></li>
        <li><a href="#取消加入暂存区">取消加入暂存区</a></li>
        <li><a href="#取消文件修改">取消文件修改</a></li>
      </ul>
    </li>
    <li><a href="#远程仓库的使用">远程仓库的使用</a>
      <ul>
        <li><a href="#查看远程仓库信息">查看远程仓库信息</a></li>
        <li><a href="#添加远程仓库">添加远程仓库</a></li>
        <li><a href="#查看远程仓库列表">查看远程仓库列表</a></li>
        <li><a href="#删除或重命名远程仓库">删除或重命名远程仓库</a></li>
        <li><a href="#推送内容到远程仓库">推送内容到远程仓库</a></li>
        <li><a href="#从远程仓库获取代码">从远程仓库获取代码</a></li>
      </ul>
    </li>
    <li><a href="#相关命令汇总">相关命令汇总</a></li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if (leftPos < 220) {
                postToc.css({ "width": leftPos - 10, "margin-left": (0 - leftPos) })
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }

        if ($("#TableOfContents").children().length < 1) {
            $(".post-toc").remove();
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">Git基础配置及使用</h1>
        </header>
        <date class="post-meta meta-date">
            2022年7月15日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category"><a href='/categories/git'>git</a></span>
            
        </div>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-meta">
            <span>|</span>
            <span> 共约6881字 </span>
            <span> 预计阅读时间14分钟</span>
        </div>
        
        
        <div class="clear" style="display: none">
            <div class="toc-article">
                <div class="toc-title">文章目录</div>
            </div>
        </div>
        
        
        

    
    
    

    
    


<div class="post-outdated">
    
    <div class="warn">
    
        <p>【注意】本文最后更新于 
            <span class="timeago" datetime="2022-07-15T15:36:37" title="2022-07-15">
            2022-07-15
            </span>，文中内容可能已过时，请谨慎使用。
        </p>
    </div>
</div>



        <div class="post-content">
            <p>Git是一种分布式版本管理系统, 不同于SVN为代表的集中式版本控制系统, Git在本地就具有项目的完整历史, 单机离线状态即可以完成版本控制的修改、提交、分支、回退等操作.</p>
<h2 id="安装git">安装Git</h2>
<p>参考官网教程<a href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git" title="安装Git官方中文教程">安装Git</a>, Windows下直接下载exe安装包一路下一步安装, Linux根据不同发行版有不同的安装命令.</p>
<h2 id="git的三种状态">Git的三种状态</h2>
<p>git文件有三种状态:</p>
<ul>
<li><strong>已修改(modified)</strong>: 表示该文件做了修改, 但是还没被git所记录, <code>git add</code>之前的文件状态.</li>
<li><strong>已暂存(staged)</strong>: 表示git对已修改的文件做了记录(<code>git add</code>), 等待提交到版本库中去.</li>
<li><strong>已提交(committed)</strong>: 表示文件数据已经安全的保存到git仓库里去了(<code>git commit</code>).</li>
</ul>
<p>相应的, git项目也区分成三个部分: <strong>工作区</strong>, <strong>暂存区</strong>, <strong>仓库</strong>.</p>
<ul>
<li><strong>工作区</strong>: git项目文件夹下, 实际项目开发, 供我们编辑查看的文件都位于工作区.</li>
<li><strong>暂存区</strong>: 当我们对某个文件做了修改, 然后执行<code>git add</code>命令, 该文件就进入了暂存区.</li>
<li><strong>仓库</strong>: git项目文件夹下面的<code>.git</code>目录, 当我们对于一些文件完成了修改, 并对这些文件执行了<code>git add</code>之后, 再次执行<code>git commit</code>命令, 这些文件就成功入库了.</li>
</ul>
<h2 id="git基础配置">Git基础配置</h2>
<h3 id="三个配置文件">三个配置文件:</h3>
<ol>
<li><strong>/etc/gitconfig</strong>: 系统全局配置文件, 包含本地所有用户及其仓库的通用配置, 使用<code>git config</code>配置命令的时候添加<code>--system</code>选项, 配置的信息保存在这个文件中. 在Windows系统中, 该配置文件位于<code>安装目录/ect/gitconfig</code>, 修改该配置文件需要管理员或超级用户权限, 否则会提示权限不足.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git config --system pull.rebase <span style="color:#b58900">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span>error: could not lock config file C:/Program Files/Git/etc/gitconfig: Permission denied
</span></span></code></pre></div><ol start="2">
<li>
<p><strong>~/.gitconfig</strong>: 也可能是**~/.config/git/config**, 单用户全局配置文件, 只针对当前用户生效, 使用<code>git config --global</code>命令配置的时候, 相关信息保存在该文件中. 在Windows中, 该配置文件默认位于<code>C:\Users\$USER\.gitconfig</code>.</p>
</li>
<li>
<p><strong>仓库中的.git/config</strong>: 单个git仓库的配置文件, 使用<code>git config --local</code>来修改该配置文件的相关信息.</p>
</li>
</ol>
<p>每一个级别会覆盖上一级别的配置, 所以 .git/config 的配置变量会覆盖 /etc/gitconfig 中的配置变量.</p>
<h3 id="配置用户信息">配置用户信息</h3>
<p>当Git安装完成后, 首先要配置的就是<code>用户名</code>和<code>邮箱</code>, 因为每次提交更新的时候, 都会附带这些用户名和邮箱信息:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git config --global user.name <span style="color:#2aa198">&#34;Xy&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span>$ git config --global user.email xy@example.com
</span></span></code></pre></div><p>如果添加了<code>--global</code>选项, 表示这台电脑上的所有用户默认都是使用的这个用户名和邮箱信息, 一次配置永久使用. 如果想对某个特定项目使用不通的用户名和邮箱, 可以先进到该项目仓库目录, 然后使用不带<code>--global</code>选项的命令来配置.</p>
<h3 id="配置默认文本编辑器">配置默认文本编辑器</h3>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git config --global core.editor <span style="color:#2aa198">&#34;code --wait&#34;</span>
</span></span></code></pre></div><p>将默认编辑器改为vscode, 其他编辑器可查看官网<a href="https://git-scm.com/book/zh/v2/%E9%99%84%E5%BD%95-C%3A-Git-%E5%91%BD%E4%BB%A4-%E8%AE%BE%E7%BD%AE%E4%B8%8E%E9%85%8D%E7%BD%AE#_core_editor">配置core.editor</a>, 当某个操作需要使用到编辑器的时候, 就会调用此处设置的那个. 如果没有常用的编辑器, 忽略此项配置直接用Git默认的编辑器也可以.</p>
<h3 id="查看配置信息">查看配置信息</h3>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span>$ git config --list
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>diff.astextplain.textconv<span style="color:#719e07">=</span>astextplain
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>filter.lfs.clean<span style="color:#719e07">=</span>git-lfs clean -- %f
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>filter.lfs.smudge<span style="color:#719e07">=</span>git-lfs smudge -- %f
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>filter.lfs.process<span style="color:#719e07">=</span>git-lfs filter-process
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>filter.lfs.required<span style="color:#719e07">=</span><span style="color:#b58900">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>...
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>$ git config --list --show-origin
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>file:C:/Program Files/Git/etc/gitconfig diff.astextplain.textconv<span style="color:#719e07">=</span>astextplain
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>file:C:/Program Files/Git/etc/gitconfig filter.lfs.clean<span style="color:#719e07">=</span>git-lfs clean -- %f
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>file:C:/Program Files/Git/etc/gitconfig filter.lfs.smudge<span style="color:#719e07">=</span>git-lfs smudge -- %f
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>file:C:/Program Files/Git/etc/gitconfig filter.lfs.process<span style="color:#719e07">=</span>git-lfs filter-process
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>file:C:/Program Files/Git/etc/gitconfig filter.lfs.required<span style="color:#719e07">=</span><span style="color:#b58900">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span>...
</span></span></code></pre></div><p>有<code>--list</code>和<code>--show-origin</code>两个选项可用, 如果两个一起用, 那么能看到所有配置以及这些配置所在的配置文件路径. 如果只是用 <code>--list</code>, 就只显示配置信息而不显示文件路径信息.<br>
当然也可以只查看指定配置项信息, 比如:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git config user.name
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span>Xy
</span></span></code></pre></div><h2 id="其他--获取帮助信息">其他&ndash;获取帮助信息</h2>
<p>如果在使用git的时候对于某个命令或者某些参数选项不熟悉, 可以通过以下方式获取帮助:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git <span style="color:#b58900">help</span> &lt;verb&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span>$ git &lt;verb&gt; --help
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span>$ man git-&lt;verb&gt;
</span></span></code></pre></div><p>比如<code>git help config</code>这会调用浏览器弹出一个页面详细说明相关信息, 不过内容是英文的. 也可以使用<code>-h</code>选项来获取简单的参考:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span>$ git config -h
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>usage: git config <span style="color:#719e07">[</span>&lt;options&gt;<span style="color:#719e07">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>Config file location
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>    --global              use global config file
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>    --system              use system config file
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>    --local               use repository config file
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>    --worktree            use per-worktree config file
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>    -f, --file &lt;file&gt;     use given config file
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>    --blob &lt;blob-id&gt;      <span style="color:#b58900">read</span> config from given blob object
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>Action
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>    --get                 get value: name <span style="color:#719e07">[</span>value-regex<span style="color:#719e07">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>    --get-all             get all values: key <span style="color:#719e07">[</span>value-regex<span style="color:#719e07">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span>    --get-regexp          get values <span style="color:#719e07">for</span> regexp: name-regex <span style="color:#719e07">[</span>value-regex<span style="color:#719e07">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span>    --get-urlmatch        get value specific <span style="color:#719e07">for</span> the URL: section<span style="color:#719e07">[</span>.var<span style="color:#719e07">]</span> URL
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span><span>    --replace-all         replace all matching variables: name value <span style="color:#719e07">[</span>value_regex<span style="color:#719e07">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span><span>    --add                 add a new variable: name value
</span></span></code></pre></div><h2 id="创建git仓库">创建Git仓库</h2>
<p>成功安装Git并完成一些基础配置后, 现在就可以开始使用它了, 那就先创建一个Git仓库吧.</p>
<p>创建git仓库有两种方法, 一种是本地已有开发项目, 但是未进行版本控制, 现在随着项目进度的发展, 准备对项目进行版本控制, 以方便后续开发维护. 一种是你对别人的某个开源项目感兴趣, 想要研究学习一下, 可以直接克隆他的项目仓库到本地.</p>
<h3 id="初始化本地项目">初始化本地项目</h3>
<p>要把本地未进行版本控制的项目, 使用git版本控制, 首先需要进入该项目根目录, 然后使用<code>git init</code>命令来初始化.<br>
在 Linux/macOS 上, 使用以下命令进入项目根目录：</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ <span style="color:#b58900">cd</span> /home/user/my_project
</span></span></code></pre></div><p>在 Windows 上, 可以使用以下命令进入项目根目录：</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ <span style="color:#b58900">cd</span> /c/user/my_project
</span></span></code></pre></div><p>进入到项目目录之后, 再执行：</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git init
</span></span></code></pre></div><p>命令执行成功后, 根目录下面会多出来一个<code>.git</code>的子目录, 这个子目录里就保存着仓库的所有必须文件. <br>
需要注意的是, 该项目根目录可以是一个空目录, 也可以是非空目录. 如果是非空目录, 刚才的操作只是做了一个初始化, 项目里的那些文件还没有被保存到仓库.</p>
<h3 id="克隆远程仓库">克隆远程仓库</h3>
<p>克隆现有的远程仓库到本地也是一句话的事, 使用<code>git clone</code>命令就可以. 当然, 首先第一步也是先把当前活动目录切换到想要放置该项目的目录.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git clone https://github.com/some_project project_name
</span></span></code></pre></div><p>比如下载github上面的某个远程仓库, 只需要在命令后面跟上远程仓库地址就好了, 后面的project_name是下载到本地后你想要命名的项目目录名称, 如果不指定, 默认跟远程仓库名称一样.</p>
<h2 id="查看仓库状态">查看仓库状态</h2>
<p>git仓库已经创建完成了, 那就先来看下这个仓库是什么样子吧, 相关命令是<code>git status</code>, 这是个无害命令, 随时都可以敲一下, 用来查看当前仓库各文件的状态, 不同的时候显示的内容可能也各有不同, 也是间接的提示你下一步操作该使用什么命令. 比如刚初始化一个空仓库或克隆一个远程仓库的时候使用这个命令, 那显示的内容有一部分大概是<code>nothing to commit, working tree clean</code>, 而如果已经对仓库内的文件做了一些改动, 那么显示的内容又会变成另一种样子:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span>// 一个是ttt仓库, 刚新建的.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>xy@TB14G2:Documents$ <span style="color:#b58900">cd</span> ttt/
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>xy@TB14G2:ttt$ git status 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>Your branch is up to date with <span style="color:#2aa198">&#39;origin/master&#39;</span>.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>nothing to commit, working tree clean
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>// 一个是gittest仓库, 有做过一些修改了
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>xy@TB14G2:ttt$ <span style="color:#b58900">cd</span> ../gittest/
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>xy@TB14G2:gittest$ git status 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>No commits yet
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span>Changes to be committed:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git rm --cached &lt;file&gt;...&#34;</span> to unstage<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span><span>	new file:   .gitmodules
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span><span>	new file:   content
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span><span>	...
</span></span></code></pre></div><h2 id="提交更新">提交更新</h2>
<p>仓库创建完成之后, 随着项目的继续开发, 我们也需要将开发进度保存到仓库, 重温一下git的基本概念, 实际项目开发是在工作区进行, 然后需要把文件提交到仓库才能通过git实现版本控制. 这个过程git经过两个步骤来实现, 首先是<code>git add</code>命令, 将更改保存到暂存区, 然后再提交更新<code>git commit</code>, 将更新正式提交到仓库.</p>
<h3 id="记录更新到暂存区">记录更新到暂存区</h3>
<p>比如刚才新创建的空仓库ttt, 建好之后, 我们先来个readme文件, 这个时候如果使用<code>git status</code>来查看状态, 应该会有类似如下内容输出提示你有部分文件等待记录：</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span>xy@TB14G2:ttt$ la
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>.git
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>xy@TB14G2:ttt$ <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;这是一个readme文件&#34;</span> &gt;&gt; Readme.md
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>xy@TB14G2:ttt$ la
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>.git  Readme.md
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>xy@TB14G2:ttt$ cat Readme.md 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>这是一个readme文件
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>xy@TB14G2:ttt$ git status 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>No commits yet
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>Untracked files:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git add &lt;file&gt;...&#34;</span> to include in what will be committed<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span>	Readme.md
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span><span>nothing added to commit but untracked files present <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git add&#34;</span> to track<span style="color:#719e07">)</span>
</span></span></code></pre></div><p>根据提示我们运行<code>git add &lt;file&gt;</code>命令就好了, 后面可以添加具体的文件名, 那就只记录指定的文件, 也可以使用<code>git add .</code>, 当前目录下所有未记录到暂存区的文件都会被记录.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>xy@TB14G2:ttt$ git add .
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span>xy@TB14G2:ttt$ git status 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span>No commits yet
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span><span>Changes to be committed:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git rm --cached &lt;file&gt;...&#34;</span> to unstage<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span><span>	new file:   Readme.md
</span></span></code></pre></div><p>**注意, 提交到暂存区类似于对文件的当前状态做一个快照（截图）, 如果提交之后, 又对文件做了修改, 需要再次使用<code>git add .</code>, 否则新的修改不会被记录. **</p>
<h3 id="提交更新到仓库">提交更新到仓库</h3>
<p>刚才运行过<code>git add .</code>之后再次查看文件状态, 可以看到文件<code>Readme.md</code>已经出现在<code>待提交的更改(Changes to be committed:)</code>区域了.
要提交更新使用<code>git commit</code>命令, 后面可以使用<code>-m</code>选项来添加描述信息, 这样以后不管是自己还是别人查看历史更新的时候, 就能够很方便的搞明白这次更新解决了什么问题.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>xy@TB14G2:ttt$ git commit -m <span style="color:#2aa198">&#34;新增readme文件&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span><span style="color:#719e07">[</span>master <span style="color:#719e07">(</span>root-commit<span style="color:#719e07">)</span> 05dea4b<span style="color:#719e07">]</span> 新增readme文件
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span> <span style="color:#2aa198">1</span> file changed, <span style="color:#2aa198">1</span> insertion<span style="color:#719e07">(</span>+<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span> create mode <span style="color:#2aa198">100644</span> Readme.md
</span></span></code></pre></div><p><strong>注意:</strong> 如果没有使用<code>-m</code>选项, 而且前面有配置默认编辑器, 那么此时就会弹出你所配置的编辑器, 让你编辑此次提交的描述信息, 等到你编辑完成并关闭编辑器的时候, 此次commit就算完成了.</p>
<h3 id="为什么要分成两步完成更新提交">为什么要分成两步完成更新提交?</h3>
<p>其他深入的涉及git设计原理的先不管, 本小白目前也不懂, 一个直观感受是, git是通过命令行界面操作的, 当我使用<code>git add</code>命令将若干文件提交到暂存区之后, 可以通过<code>git status</code>命令来确认一遍我本次需要更新的文件是否已经全部选中了, 然后再一次性把所有相关更改提交到仓库.<br>
**当然, 如果嫌两步走太繁琐的话, 也可以使用<code>git commit -a</code>命令一次性完成上述两步操作. **</p>
<h2 id="设置忽略文件">设置忽略文件</h2>
<p>在项目开发过程中, 会生成一些不需要做版本跟踪记录的文件, 比如一些日志文件、临时缓存文件等, 对于这些不需要跟踪的文件, 我们可以把它们记录到<code>.gitignore</code>文件里, 比如：</p>
<pre tabindex="0"><code class="language-none" data-lang="none"># 忽略所有的 .a 文件
*.a

# 但跟踪所有的 lib.a, 即便你在前面忽略了 .a 文件
!lib.a

# 只忽略当前目录下的 TODO 文件, 而不忽略 subdir/TODO
/TODO

# 忽略任何目录下名为 build 的文件夹
build/
</code></pre><p><code>.gitignore</code>文件的格式规范要求如下：</p>
<ul>
<li>所有空行或者以 <code>#</code> 开头的行都会被 Git 忽略.</li>
<li>可以使用标准的 glob 模式匹配, 它会递归地应用在整个工作区中.</li>
<li>匹配模式可以以（<code>/</code>）开头防止递归.</li>
<li>匹配模式可以以（<code>/</code>）结尾指定目录.</li>
<li>要忽略指定模式以外的文件或目录, 可以在模式前加上叹号（<code>!</code>）取反.</li>
</ul>
<h2 id="删除文件">删除文件</h2>
<p>如果像平时删除文件那样直接在Git工作区删除文件, 虽然工作区已经删掉了, 但是并未通知到git, 比如我们新建一个aaa.txt文件, 先用<code>git add</code>命令来跟踪, 然后使用<code>rm</code>命令来删除它, 此时运行<code>git status</code>能看到如下提示：</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span>xy@TB14G2:ttt$ <span style="color:#b58900">echo</span> <span style="color:#2aa198">&#34;啊啊啊啊啊&#34;</span> &gt; aaa.txt
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>xy@TB14G2:ttt$ git add .
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>xy@TB14G2:ttt$ git status 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>Changes to be committed:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>	new file:   aaa.txt
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>xy@TB14G2:ttt$ rm aaa.txt 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>xy@TB14G2:ttt$ git status 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>Changes to be committed:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>	new file:   aaa.txt
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span>Changes not staged <span style="color:#719e07">for</span> commit:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git add/rm &lt;file&gt;...&#34;</span> to update what will be committed<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git restore &lt;file&gt;...&#34;</span> to discard changes in working directory<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span><span>	deleted:    aaa.txt
</span></span></code></pre></div><p>明明我们已经删除aaa.txt文件了, git也提示该文件被删除了, 但是<code>Changes to be committed:</code>暂存区域该文件却还在, 需要我们再使用<code>git rm aaa.txt</code>才能完全删除.</p>
<h2 id="移动文件">移动文件</h2>
<p>Git不会显式跟踪文件移动操作, 如果直接在工作区重命名文件, Git会提示有文件被删除以及新增文件等待记录, 类似上面的直接删除文件, 而如果使用命令<code>git mv &lt;file&gt;</code>则不会有上面的提示.</p>
<p>可以理解为<code>git mv</code>一次性完成了下面三步操作：</p>
<ol>
<li>工作区重命名（移动）文件</li>
<li>git rm <file></li>
<li>git add <new file></li>
</ol>
<h2 id="比较文件">比较文件</h2>
<p>当一个文件经过了多次修改（commit）, 可以通过使用命令<code>git diff</code>来查看/比较具体修改的内容.</p>
<p>该命令功能比较丰富, 且个人目前还不是很习惯该命令的输出格式, 此处笔记暂时略过, 有兴趣的朋友请自行查看帮助练习<code>git help diff</code> <code>git diff -h</code></p>
<h2 id="查看提交历史">查看提交历史</h2>
<p>经过了多次提交更新, 或者克隆了某个项目, 想要查看历史提交信息, 可以使用<code>git log</code>命令. 详情参考<a href="https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2" title="查看提交历史">Git官方文档</a>,  <a href="https://git-scm.com/book/zh/v2/ch00/log_options" title="git log的常用选项">git log常用选项</a>.</p>
<p>本小白经过几天的使用后, 感觉下面几条查看历史命令不错:</p>
<p><code>git log --oneline --graph --decorate --all</code>, 显示所有提交历史、各个分支的指向以及项目的分支分叉情况.</p>
<p><code>git log -p -2</code>, 显示最近2次提交的具体修改内容.</p>
<h2 id="撤销操作">撤销操作</h2>
<h3 id="补充更新">补充更新</h3>
<p>当你刚完成一次commit提交, 却发现有部分文件没有加进去, 或者是提交信息写错了, 这个时候可以运行<code>git commit --amend</code>命令再次补充更新, Git（历史提交记录）会自动把两次提交合并成一个提交.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git commit -m <span style="color:#2aa198">&#39;initial commit&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span>$ git add forgotten_file
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span>$ git commit --amend
</span></span></code></pre></div><h3 id="取消加入暂存区">取消加入暂存区</h3>
<p>当你对某些文件做了修改, 并通过<code>git add</code>命令加入了暂存区准备提交更新, 却又准备把部分文件放到下一次提交, 想要先从暂存区删除（把文件状态从<strong>已加入暂存区</strong>改为<strong>已修改未暂存</strong>）, 可以使用<code>git reset HEAD &lt;FILE&gt;</code>命令来取消暂存.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span>$ git add *
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>$ git status
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>Changes to be committed:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git reset HEAD &lt;file&gt;...&#34;</span> to unstage<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>    renamed:    README.md -&gt; README
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>    modified:   CONTRIBUTING.md
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>$ git reset HEAD CONTRIBUTING.md    <span style="color:#586e75"># 取消暂存CONTRIBUTING.md文件</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>Unstaged changes after reset:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>M CONTRIBUTING.md
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>$ git status
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">14</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">15</span><span>Changes to be committed:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">16</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git reset HEAD &lt;file&gt;...&#34;</span> to unstage<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">17</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">18</span><span>    renamed:    README.md -&gt; README
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">19</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">20</span><span>Changes not staged <span style="color:#719e07">for</span> commit:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">21</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git add &lt;file&gt;...&#34;</span> to update what will be committed<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">22</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git checkout -- &lt;file&gt;...&#34;</span> to discard changes in working directory<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">23</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">24</span><span>    modified:   CONTRIBUTING.md
</span></span></code></pre></div><h3 id="取消文件修改">取消文件修改</h3>
<p>当你对某个文件做了大量修改, 突然又不想要了, 准备将它还原成上一次提交时候的状态（或者刚克隆完的状态）, 可以使用<code>git checkout -- &lt;file&gt;</code>命令来从仓库中拉取文件覆盖工作区文件.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 1</span><span>Changes not staged <span style="color:#719e07">for</span> commit:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 2</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git add &lt;file&gt;...&#34;</span> to update what will be committed<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 3</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git checkout -- &lt;file&gt;...&#34;</span> to discard changes in working directory<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 4</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 5</span><span>    modified:   CONTRIBUTING.md
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 6</span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 7</span><span>$ git checkout -- CONTRIBUTING.md   <span style="color:#586e75"># 从仓库检出文件撤销对文件的修改</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 8</span><span>$ git status
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050"> 9</span><span>On branch master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">10</span><span>Changes to be committed:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">11</span><span>  <span style="color:#719e07">(</span>use <span style="color:#2aa198">&#34;git reset HEAD &lt;file&gt;...&#34;</span> to unstage<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">12</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">13</span><span>    renamed:    README.md -&gt; README
</span></span></code></pre></div><p><strong>注意, 检出文件后, 在工作区对文件所作的修改将丢失, 常规办法无法恢复</strong></p>
<h2 id="远程仓库的使用">远程仓库的使用</h2>
<p>远程仓库可以作为本地的一个远程备份, 也可以用于跟其他人协作开发项目.</p>
<p><strong>要使用远程仓库, 首先请在github或者gitee等网站注册一个帐号, 然后去新建仓库.</strong> github是国外的, 全球程序员的聚集地, 访问速度会稍微慢一点; gitee是国内的, 访问速度会比较快.</p>
<h3 id="查看远程仓库信息">查看远程仓库信息</h3>
<p>如果一开始是通过<code>git clone</code>命令新建的仓库, 那么Git会默认给你克隆的仓库添加origin的别名, 可以使用<code>git remote show [remote]</code>来查看该远程仓库的详细信息([remote]部分可以用远程仓库别名, 也可以用远程仓库的完整URL地址):</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>xy@TB14G2:gittest$ git remote show <span style="color:#b58900">test</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span>* remote <span style="color:#b58900">test</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span>  Fetch URL: git@gitee.com:xy-ylr/gittest.git
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span>  Push  URL: git@gitee.com:xy-ylr/gittest.git
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span>  HEAD branch: master
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span><span>  Remote branch:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span><span>    master new <span style="color:#719e07">(</span>next fetch will store in remotes/test<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span><span>  Local ref configured <span style="color:#719e07">for</span> <span style="color:#2aa198">&#39;git push&#39;</span>:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span><span>    master pushes to master <span style="color:#719e07">(</span><span style="color:#b58900">local</span> out of date<span style="color:#719e07">)</span>
</span></span></code></pre></div><h3 id="添加远程仓库">添加远程仓库</h3>
<p>如果一开始是通过<code>git init</code>创建的仓库, 那默认是没有远程仓库相关信息的, 不过也可以手动添加:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>$ git remote add <span style="color:#b58900">test</span> git@gitee.com:xy-ylr/gittest.git
</span></span></code></pre></div><p>这条命令的意思就是添加一个远程仓库, 并在本地简称为<code>paul</code></p>
<h3 id="查看远程仓库列表">查看远程仓库列表</h3>
<p>一个本地仓库可以添加多个远程仓库, 在关联了多个远程仓库之后, 可以使用<code>git remote -v</code>命令查看所有远程仓库基本信息, 这会列出所有远程仓库的别名以及对应的URL地址, 类似下面这样：</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>xy@TB14G2:gittest$ git remote -v
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span><span style="color:#b58900">test</span>	git@gitee.com:xy-ylr/gittest.git <span style="color:#719e07">(</span>fetch<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span><span style="color:#b58900">test</span>	git@gitee.com:xy-ylr/gittest.git <span style="color:#719e07">(</span>push<span style="color:#719e07">)</span>
</span></span></code></pre></div><h3 id="删除或重命名远程仓库">删除或重命名远程仓库</h3>
<p>要删除无用的远程仓库使用命令<code>git remote rm [name]</code>, 删除之后, 与该远程仓库相关的信息会被一起删除。</p>
<p>重命名远程仓库使用命令<code>git remote rename [old_name] [new_name]</code>。</p>
<h3 id="推送内容到远程仓库">推送内容到远程仓库</h3>
<p>要将本地仓库内容推送到远程仓库, 使用<code>git push [remote][branch]</code>命令, [remote]部分是远程仓库的别名(或者完整url), 默认情况下是origin;  [branch]部分是远程仓库的分支, 如果省略, 默认是往远程仓库的master或者main等默认主分支推送.</p>
<p><strong>注意</strong>: 要往远程仓库推送内容, 首先要保证你已经拥有该远程仓库的最新内容, 且你要推送的新内容是基于远程仓库的最新内容产生的修改. 否则会报错, 类似下面这样</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">1</span><span>xy@TB14G2:gittest$ git push <span style="color:#b58900">test</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">2</span><span>To gitee.com:xy-ylr/gittest.git
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">3</span><span> ! <span style="color:#719e07">[</span>rejected<span style="color:#719e07">]</span>        master -&gt; master <span style="color:#719e07">(</span>fetch first<span style="color:#719e07">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">4</span><span>error: failed to push some refs to <span style="color:#2aa198">&#39;gitee.com:xy-ylr/gittest.git&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">5</span><span>hint: Updates were rejected because the remote contains work that you <span style="color:#719e07">do</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">6</span><span>hint: not have locally. This is usually caused by another repository pushing
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">7</span><span>hint: to the same ref. You may want to first integrate the remote changes
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">8</span><span>hint: <span style="color:#719e07">(</span>e.g., <span style="color:#2aa198">&#39;git pull ...&#39;</span><span style="color:#719e07">)</span> before pushing again.
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#495050">9</span><span>hint: See the <span style="color:#2aa198">&#39;Note about fast-forwards&#39;</span> in <span style="color:#2aa198">&#39;git push --help&#39;</span> <span style="color:#719e07">for</span> details.
</span></span></code></pre></div><h3 id="从远程仓库获取代码">从远程仓库获取代码</h3>
<p>要从远程仓库获取代码, 新建项目第一次可以使用<code>git clone</code>, 后续可以使用<code>git pull</code>或者<code>git fetch</code>.</p>
<p><code>git pull</code>和<code>git fetch</code>的区别是fetch只是拉取更新, 但是不会自动将更新应用到你当前的工作目录, 需要后续使用<code>git merge(合并)</code>或者<code>git rebase(变基)</code>来将远程仓库的内容应用到本地仓库. 而<code>git pull</code>会自动帮你合并.</p>
<p>当然, 就像上面的<code>git push</code>推送更新, 如果本地仓库存在远程仓库所没有的新内容, 使用<code>git pull</code>或者<code>git merge</code>都可能会报错. 推荐使用<code>git rebase</code>, 这个命令的工作原理是将本地仓库的更新先摘出来, 将远程仓库的内容应用到本地之后, 再将摘出来的这部分本地仓库的更新给接回去. 更多细节参考<a href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA">官方文档&ndash;变基</a></p>
<p><strong>补充</strong>: 关于<code>git push</code>, <code>git merge</code>, <code>git rebase</code>, <code>git pull</code>几个命令可以阅读<a href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%AE%80%E4%BB%8B">官方文档&ndash;Git分支</a>并跟着练习几次加深理解, 此处只做简单介绍.</p>
<p><strong>再补充</strong>: 如果只是个人使用的小项目, 都是在本地操作完成后, 再推送到远程仓库做一个备份的话, 只需要在本地完成commit操作后, 再执行一下<code>git push</code>就好了, 不用考虑如何从远程仓库获取代码. 即使本地仓库因为磁盘损坏等原因丢失, 要从远程仓库恢复数据, 也可以直接使用<code>git clone</code>来重建仓库.</p>
<h2 id="相关命令汇总">相关命令汇总</h2>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git config --system</code></td>
<td>系统级配置, 需要管理员权限</td>
</tr>
<tr>
<td><code>git config --global</code></td>
<td>全局配置, 该台电脑所有仓库通用</td>
</tr>
<tr>
<td><code>git config --list</code></td>
<td>显示当前所有配置</td>
</tr>
<tr>
<td><code>git config --list --show-origin</code></td>
<td>显示当前所有配置, 及该配置所属文件路径</td>
</tr>
<tr>
<td><code>git help [command]</code></td>
<td>浏览器弹出该命令使用说明</td>
</tr>
<tr>
<td><em><code>git command -h</code></em></td>
<td>当前命令行窗口显示该命令简要参考</td>
</tr>
<tr>
<td><code>git init</code></td>
<td>初始化当前所在目录为Git仓库</td>
</tr>
<tr>
<td><code>git clone [remote_url]</code></td>
<td>克隆一个远程项目</td>
</tr>
<tr>
<td><code>git add .</code> ; <code>git add [file]</code></td>
<td>将目录下所有修改过的文件加入暂存区; 将指定文件加入暂存区</td>
</tr>
<tr>
<td><code>git commit -m</code></td>
<td>将暂存区中的内容提交到仓库, 并添加描述信息</td>
</tr>
<tr>
<td><code>git commit -a</code></td>
<td>等同于<code>git add</code>+<code>git commit</code></td>
</tr>
<tr>
<td><code>git commit --amend</code></td>
<td>对上一次提交的补充提交</td>
</tr>
<tr>
<td><code>git rm</code></td>
<td>删除文件</td>
</tr>
<tr>
<td><code>git mv</code></td>
<td>移动/重命名文件</td>
</tr>
<tr>
<td><code>git diff</code></td>
<td>比较文件差异</td>
</tr>
<tr>
<td><code>git log</code></td>
<td>历史提交信息</td>
</tr>
<tr>
<td><code>git reset HEAD &lt;file&gt;</code></td>
<td>取消暂存, 将git add过的文件从暂存区移除</td>
</tr>
<tr>
<td><code>git checkout [branch][-- file]</code></td>
<td>切换到某个分支. 从仓库检出某个文件, 丢弃对该文件的修改</td>
</tr>
<tr>
<td><code>git remote add [name] [repo]</code></td>
<td>添加远程仓库</td>
</tr>
<tr>
<td><code>git remote -v</code></td>
<td>查看远程仓库列表</td>
</tr>
<tr>
<td><code>git remote show [repo]</code></td>
<td>查看某个远程仓库具体信息</td>
</tr>
<tr>
<td><code>git push [repo]</code></td>
<td>推送本地更新到远程仓库</td>
</tr>
<tr>
<td><code>git pull [repo]</code></td>
<td>从远程仓库拉取更新并应用到本地工作目录</td>
</tr>
<tr>
<td><code>git fetch [repo]</code></td>
<td>从远程仓库获取更新记录, 但不应用更新到工作目录</td>
</tr>
</tbody>
</table>
        </div>

        
<div class="post-archive">
    <ul class="post-copyright">
        <li><strong>原文作者：</strong><a rel="author" href="https://xy-ylr.github.io">四十荀</a></li>
        <li style="word-break:break-all"><strong>原文链接：</strong><a href="https://xy-ylr.github.io/it/git_basic_use/">https://xy-ylr.github.io/it/git_basic_use/</a></li>
        <li><strong>版权声明：</strong>本作品采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li>
    </ul>
</div>
<br/>



        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/it/github_and_hugo/">使用Github pages和hugo搭建个人静态博客系统</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/tags/git'>git</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "xy-ylr/blog-comments"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
    
    

</div>

                    <footer id="footer">
    <div>
        &copy; 2023 <a href="https://xy-ylr.github.io">四十荀的博客 By 四十荀</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>
    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://xy-ylr.github.io/search' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://xy-ylr.github.io">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://xy-ylr.github.io/it/h3c_irf_conf/" title="H3C交换机irf配置">H3C交换机irf配置</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/rime_configuration/" title="Rime安装与基本配置">Rime安装与基本配置</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/linux_ssh/" title="Linux禁用root远程登录">Linux禁用root远程登录</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/linux_commands/" title="Linux常用命令笔记">Linux常用命令笔记</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/git_submodule/" title="Git子模块">Git子模块</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/git_branch/" title="Git分支">Git分支</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/git_basic_use/" title="Git基础配置及使用">Git基础配置及使用</a>
    </li>
    
    <li>
        <a href="https://xy-ylr.github.io/it/github_and_hugo/" title="使用Github pages和hugo搭建个人静态博客系统">使用Github pages和hugo搭建个人静态博客系统</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>分类</a></h3>
<ul class="widget-list">
    
    <li><a href="https://xy-ylr.github.io/categories/git/">git (4)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/github/">github (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/hugo/">hugo (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/linux/">linux (2)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/rime/">rime (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E5%81%A5%E8%BA%AB/">健身 (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E5%86%9C%E4%B8%9A/">农业 (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E7%BD%91%E7%BB%9C/">网络 (1)</a></li>
    
    <li><a href="https://xy-ylr.github.io/categories/%E8%B4%A2%E7%BB%8F/">财经 (1)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://xy-ylr.github.io/tags/firewalld/">firewalld</a>
    
    <a href="https://xy-ylr.github.io/tags/git/">git</a>
    
    <a href="https://xy-ylr.github.io/tags/github/">github</a>
    
    <a href="https://xy-ylr.github.io/tags/hugo/">hugo</a>
    
    <a href="https://xy-ylr.github.io/tags/irf/">irf</a>
    
    <a href="https://xy-ylr.github.io/tags/linux/">linux</a>
    
    <a href="https://xy-ylr.github.io/tags/rime/">rime</a>
    
    <a href="https://xy-ylr.github.io/tags/selinux/">selinux</a>
    
    <a href="https://xy-ylr.github.io/tags/ssh/">ssh</a>
    
    <a href="https://xy-ylr.github.io/tags/sudo/">sudo</a>
    
    <a href="https://xy-ylr.github.io/tags/%E5%81%A5%E8%BA%AB/">健身</a>
    
    <a href="https://xy-ylr.github.io/tags/%E5%86%9C%E4%B8%9A/">农业</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%BD%91%E7%BB%9C/">网络</a>
    
    <a href="https://xy-ylr.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/">网络工程师</a>
    
    <a href="https://xy-ylr.github.io/tags/%E8%B4%A2%E7%BB%8F/">财经</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://www.flysnow.org/" title="飞雪无情的博客">飞雪无情的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://xy-ylr.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>